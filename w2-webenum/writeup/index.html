
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="The official site for Coventry University Ethical Hacking Computer Security Society (CUEH ComSec), find our latest presentations, videos & announcements!">
      
      
      
        <link rel="canonical" href="https://cov-comsec.github.io/w2-webenum/writeup/">
      
      
        <meta name="author" content="CUEH ComSec">
      
      <link rel="shortcut icon" href="../../logo.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.6">
    
    
      
        <title>Writeup - CUEH ComSec</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6910b76c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.196e0c26.min.css">
        
          
          
          <meta name="theme-color" content="#4051b5">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="indigo" data-md-color-accent="indigo">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#week-2" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="https://cov-comsec.github.io/" title="CUEH ComSec" class="md-header-nav__button md-logo" aria-label="CUEH ComSec">
      
  <img src="../../logo.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            CUEH ComSec
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              Writeup
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="https://cov-comsec.github.io/" title="CUEH ComSec" class="md-nav__button md-logo" aria-label="CUEH ComSec">
      
  <img src="../../logo.png" alt="logo">

    </a>
    CUEH ComSec
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" >
    <label class="md-nav__link" for="nav-2">
      Week 1 - Nmap
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Week 1 - Nmap" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        <span class="md-nav__icon md-icon"></span>
        Week 1 - Nmap
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../w1-nmap/" class="md-nav__link">
      Materials
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../w1-nmap/writeup/" class="md-nav__link">
      Writeup
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3" checked>
    <label class="md-nav__link" for="nav-3">
      Week 2 - Web Enumeration
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="Week 2 - Web Enumeration" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        Week 2 - Web Enumeration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" class="md-nav__link">
      Materials
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Writeup
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      Writeup
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#robotstxt" class="md-nav__link">
    Robots.txt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#legal" class="md-nav__link">
    /legal/
  </a>
  
    <nav class="md-nav" aria-label="/legal/">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#legalpapers" class="md-nav__link">
    /legal/papers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#404" class="md-nav__link">
    404
  </a>
  
    <nav class="md-nav" aria-label="404">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#well-knownsecuritytxt" class="md-nav__link">
    .well-known/security.txt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flagtxt" class="md-nav__link">
    Flag.txt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wp-content" class="md-nav__link">
    wp-content
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../w3-ziemni/" class="md-nav__link">
      Week 3 - Ziemni, Graduate Talk
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../w4-webexploit/" class="md-nav__link">
      Week 4 - Web Exploitation
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../w5-socialengineering/" class="md-nav__link">
      Week 5 - Social Engineering
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../w6-buffer/" class="md-nav__link">
      Week 6 - Dan, Buffer Overflow
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../w7-rop/" class="md-nav__link">
      Week 7 - Sleepoverflow, ROP
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../w8-CrowdStrike/" class="md-nav__link">
      Week 8 - CrowdStrike Event
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../w9-stack/" class="md-nav__link">
      Week 9 - Overflow, Real World Stack
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#robotstxt" class="md-nav__link">
    Robots.txt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#legal" class="md-nav__link">
    /legal/
  </a>
  
    <nav class="md-nav" aria-label="/legal/">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#legalpapers" class="md-nav__link">
    /legal/papers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#404" class="md-nav__link">
    404
  </a>
  
    <nav class="md-nav" aria-label="404">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#well-knownsecuritytxt" class="md-nav__link">
    .well-known/security.txt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flagtxt" class="md-nav__link">
    Flag.txt
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#wp-content" class="md-nav__link">
    wp-content
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="week-2">Week 2</h1>
<p>Web Enumeration ctf
So you know start your docker instances and let's hack!
8 Flags inside this machine</p>
<p>Every time first thing to do Nmap scan
<img alt="scan" src="../img/scan.png" /></p>
<p>Look at your scan results. So we have one port open 3838/tcp and we have at least one directory '/legal' and one file robots.txt and the box is running nginx.
First thing lets open the browser and navigate to 172.17.0.2
<img alt="Homepage" src="../img/index.png" />
Get a good look at the source code and the style.css and should be able to find the flag1.
Well this week is all about list and enumerating web apps so let's do it. You have a lot of tools from gobuster, ffuf, dirbuster and etc.
I'll be using dirbuster. Dirbuster is better for recursion.</p>
<p><img alt="" src="../img/startingdirbuster.png" />
<img alt="" src="../img/dirbuster.png" />
Looks like we have a lot more inside this Web App.</p>
<h2 id="robotstxt">Robots.txt</h2>
<p>Lets go to robots.txt. Robots.txt is always a good spot to look for flags in ctfs and sometimes u can get information about other directories will you wait for your scans and scripts to end.
You should have one flag2.</p>
<h2 id="legal">/legal/</h2>
<p>How boring can we be? Actually is always good to remind you guys we are living in the grey area. Here you have the first 2 sections of the Computer Misuse act 1990. Opens your eyes cause in the middle of all of those words you should be able to find flag3 you just need to loose and 10 secs in cyberchef and one more is done. 
<img alt="" src="../img/legal.png" /></p>
<h3 id="legalpapers">/legal/papers</h3>
<p>Hm how good are you at web dev? Do you guys know which tags you can use while inserting an image?
Do you what the alt tag does?
If you don't while do a brief explanation. So inside the alt='' tag you will have alternate text that will be shown when the image cannot be displayed. Look at the alt tag for this image and flag4 is done. </p>
<h2 id="404">404</h2>
<p>404 is a page that can be really important for the attacker if not well setup. From the 404 page we can sometimes extract important information for example the version of the distro or server ,etc. This kinds of information can be really important sometimes to find CVES and other vulns.
By the Way always check the source code.
<img alt="" src="../img/404.png" /></p>
<h3 id="well-knownsecuritytxt">.well-known/security.txt</h3>
<p>Have you heard of this directory before if you don't you can get an idea <a href="https://en.wikipedia.org/wiki/Security.txt" target="_blank">security.txt</a>. Always good to check. </p>
<h2 id="flagtxt">Flag.txt</h2>
<p>Looks like we can't see this file maybe after getting our reverse shell we will be able to.
<img alt="" src="../img/flag_txt.png" /></p>
<h2 id="wp-content">wp-content</h2>
<p>Let's go back to the dirbuster scan, you have a page called wp-content. For the people that don't know this is the standard page for uploading files in wordpress. Get your reverse shells from pentestmonkeys upload the file. It will appear as a link in the same page. Before clicking it, run your netcat in the terminal
<img alt="" src="../img/reversein.png" /></p>
<p><div class="highlight"><pre><span></span><code>nc -lvnp 1234
</code></pre></div>
Go back to the browser and click the file and you should have the tty.</p>
<p>Navigate to /var/www/ and cat the flag.txt
Flag7 only one left.
Let's get root.
So without using any script lets enumerate the SUID permissions using
<div class="highlight"><pre><span></span><code>find / -perm /4000 2&gt;/dev/null
</code></pre></div>
Looks like we can run sudo.
Lets look for the permissions.
<div class="highlight"><pre><span></span><code>sudo -l
</code></pre></div>
<img alt="" src="../img/privesc.png" />
If you do id now you will be able to see you are root. 
<img alt="" src="../img/rooted.png" />
<div class="highlight"><pre><span></span><code>cat /root/flag.txt
</code></pre></div>
Done Congrats!</p>
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Materials
              </div>
            </div>
          </a>
        
        
          <a href="../../w3-ziemni/" class="md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Week 3 - Ziemni, Graduate Talk
              </div>
            </div>
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.fd16492e.min.js"></script>
      <script src="../../assets/javascripts/bundle.7836ba4d.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>